<div class="container">
    <button class="btn btn-primary btnVolver" (click)="volverLista()">Volver</button>
    <p class="fs-3">GESTION DE PRODUCTOS</p>
    <div class="row">
        <div class="col-6">
            <form #productoForm="ngForm">
                <div class="mb-3">
                    <label for="nombre" class="form-label">Nombre *</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" [(ngModel)]="producto.nombre"
                        required #nombre="ngModel" />
                </div>

                <div *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)" class="alert alert-danger">

                    <div *ngIf="nombre.errors?.['required']">
                        Nombre es requerido.
                    </div>
                </div>

                <div class="mb-3">
                    <label for="descripcion" class="form-label">Descripción *</label>
                    <input type="text" class="form-control" id="descripcion" name="descripcion"
                        [(ngModel)]="producto.descripcion" required #descripcion="ngModel" />
                </div>

                <div *ngIf="descripcion.invalid && (descripcion.dirty || descripcion.touched)"
                    class="alert alert-danger">

                    <div *ngIf="descripcion.errors?.['required']">
                        Descripción es requerido.
                    </div>
                </div>

                <div class="mb-3">
                    <label for="img" class="form-label">Imagen *</label>
                    <input type="text" class="form-control" id="img" name="img" [(ngModel)]="producto.imagen" required
                        #imagen="ngModel" />
                </div>

                <div *ngIf="imagen.invalid && (imagen.dirty || imagen.touched)" class="alert alert-danger">

                    <div *ngIf="imagen.errors?.['required']">
                        Imagen es requerido.
                    </div>
                </div>

                <div class="mb-3">
                    <label for="precio" class="form-label">Precio *</label>
                    <input type="number" class="form-control" id="precio" name="precio" [(ngModel)]="producto.precio"
                        required #precio="ngModel" />
                </div>

                <div *ngIf="(precio.invalid && (precio.dirty || precio.touched)) || (precio.valid && precio.value<=0)"
                    class="alert alert-danger">

                    <div *ngIf="precio.errors?.['required']">
                        Precio es requerido.
                    </div>
                    <div *ngIf="precio.value<=0">
                        Precio debe ser mayor a 0.
                    </div>
                </div>


                <div class="mb-3">
                    <label for="stock" class="form-label">Stock *</label>
                    <input type="number" class="form-control" id="stock" name="stock" [(ngModel)]="producto.stock"
                        required #stock="ngModel" />
                </div>

                <div *ngIf="stock.invalid && (stock.dirty || stock.touched)" class="alert alert-danger">

                    <div *ngIf="stock.errors?.['required']">
                        Stock es requerido.
                    </div>
                    <div *ngIf="stock.value<0">
                        Stock debe ser mayor o igual a 0.
                    </div>
                </div>

                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="destacado" name="destacado"
                        [(ngModel)]="producto.destacado">
                    <label class="form-check-label" for="destacado">Destacado</label>
                </div>
                <br>
                <button class="btn btn-primary" (click)="agregarProducto()"
                    [disabled]="productoForm.invalid">Registrar</button>
            </form>
        </div>
    </div>
</div>